<!DOCTYPE html>
<head>
    <title>Page Visibilty</title>
</head>

<body>

    <script>
        let pollCount = 1;
        let poll = function() {
            
            if (document.hidden) {
                return;
            }
            
            console.log('Polled ' + pollCount + ' times.');
            pollCount++;
        }
        setInterval(poll, 1000);

        document.addEventListener('visibilitychange', function() {
            console.log('Visibility changed to ' + document.visibilityState + '!');
        });

    </script>
</body>
